{"version":3,"sources":["app.js"],"names":["window","onload","words","wordsArr","textArea","document","getElementById","main","refresh","gameMain","score","errors","wordsArrPlace","info","rules","totalSpan","statusDiv","speed","audio","createElement","soundButton","classList","addEventListener","contains","pause","play","text","toggle","add","elem","delay","remove","slice","setTimeout","focus","max","newElWorld","button","innerHTML","allWrdNow","errorMax","scoreCount","body","i","errorsCount","value","toString","push","length","appendChild","innerText","spaces","style","display","querySelectorAll","countSpan","codes","charCodeAt","enters","normPress","intervalId","tickHandler","Math","pressCount","time","undefined","charCodeEnter","codesCount","e","failPress","winPlay","gg","imgEnd","src","setAttribute","which","setInterval","clock","querySelector","round","Date","getSeconds","clearInterval","seconds","location","reload","clockBlock","clockTime","hours","getHours","minutes","getMinutes"],"mappings":"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","file":"../app.min.js","sourcesContent":["/*jslint es6 */\r\n/*jslint browser */\r\n\r\nwindow.onload = function () {\r\n\r\n    'use strict';\r\n    let words;\r\n    let wordsArr = [];\r\n\r\n\r\n    //main let place\r\n\r\n    let button = document.getElementById('btn-push'),\r\n        textArea = document.getElementById('new-words'),\r\n        main = document.getElementById('main'),\r\n        refresh = document.getElementById('refresh'),\r\n        gameMain = document.getElementById('game-main'),\r\n        score = document.getElementById('score'),\r\n        errors = document.getElementById('errors'),\r\n        wordsArrPlace = document.getElementById('wordsArrPlace'),\r\n        info = document.getElementById('info'),\r\n        rules = document.getElementById('rules'),\r\n        totalSpan = document.getElementById('all-span'),\r\n        // let about = document.getElementById('about');\r\n        // let aboutDiv = document.getElementById('about-div');\r\n\r\n        temp = document.getElementById('temp'),\r\n        speed = document.getElementById('speed'),\r\n\r\n        statusDiv = document.getElementById('status'),\r\n\r\n        // let pacman = document.getElementsByClassName('pacman')[0];\r\n\r\n\r\n        soundButton = document.getElementById('sound'),\r\n        audio = document.createElement(\"audio\");\r\n    audio.src = \"./mp3/main.ogg\";\r\n\r\n    //first place\r\n\r\n    soundButton.addEventListener('click', function () {\r\n        soundButton.classList.toggle('s-onn');\r\n        if (soundButton.classList.contains('s-onn')) {\r\n            audio.play();\r\n        }\r\n        soundButton.classList.toggle('s-off');\r\n        if (soundButton.classList.contains('s-off')) {\r\n            audio.pause();\r\n        }\r\n\r\n    });\r\n\r\n\r\n    let text = \"Добро пожаловать.\" +\r\n        \" Вводите текст сюда. Помните, что вы всегда можете начать заново.\" +\r\n        \" Вы можете ознакомиться с информацией, наведя на нужную иконку справа.\" +\r\n        \" Чтобы начать - нажмите на большую кнопку внизу.\\n\" +\r\n\r\n        \"Удачи!\";\r\n\r\n    let delay = 30, // Скорость печатания\r\n        elem = textArea;\r\n\r\n    let print_text = function (text, elem, delay) {\r\n\r\n        if (text.length > 0) {\r\n            elem.append(text[0]);\r\n            setTimeout(\r\n                function () {\r\n                    print_text(text.slice(1), elem, delay);\r\n                }, delay\r\n            );\r\n        }\r\n    };\r\n\r\n    print_text(text, elem, delay);\r\n\r\n\r\n    textArea.focus();\r\n\r\n    info.addEventListener('mouseover', function () {\r\n        info.classList.add(\"bring\");\r\n        rules.classList.add(\"rules\");\r\n\r\n    });\r\n\r\n    info.addEventListener('mouseout', function () {\r\n        info.classList.remove(\"bring\");\r\n        rules.classList.remove(\"rules\");\r\n\r\n    });\r\n\r\n    button.addEventListener('click', function () {\r\n\r\n        audio.pause();\r\n        if (textArea.value === '') {\r\n            alert('Введите текст');\r\n\r\n        } else {\r\n            document.body.classList.add('body');\r\n            words = textArea.value.toString();\r\n\r\n\r\n            for (let i = 0, max = words.length - 1; i <= max; i++) {\r\n                wordsArr.push(words[i]);\r\n            }\r\n\r\n\r\n           //  for (let i = 0, max = wordsArr.length - 1; i <= max; i++) {\r\n           //\r\n           //      console.log(wordsArr[i].charCodeAt()); //8212 //45\r\n           // // – и — и -\r\n           //  }\r\n\r\n\r\n            for (let i = 0, max = wordsArr.length - 1; i <= max; i++) {\r\n                let newElWorld = document.createElement('span');\r\n\r\n                wordsArrPlace.appendChild(newElWorld);\r\n                newElWorld.innerText = wordsArr[i];\r\n\r\n            }\r\n\r\n            main.style.display = 'none';\r\n            gameMain.style.display = 'block';\r\n\r\n\r\n            totalSpan.innerHTML = wordsArr.length.toString();\r\n\r\n            let allWrdNow = wordsArrPlace.querySelectorAll('span');\r\n            let countSpan = 0;\r\n            let errorMax = allWrdNow.length / 100 * 8;\r\n            let scoreCount = 0;\r\n            let errorsCount = 0;\r\n\r\n            let codes = [];\r\n\r\n            for (let i = 0, max = allWrdNow.length - 1; i <= max; i++) {\r\n                codes.push(allWrdNow[i].innerHTML.charCodeAt(0));\r\n\r\n            }\r\n\r\n            for (let i = 0, max = codes.length - 1; i <= max; i++) {\r\n                if (codes[i] === 60) {\r\n                    codes[i] = 13;\r\n                }\r\n\r\n                if (codes[i] === 8212 || codes[i] === 8211) {\r\n                    codes[i] = 45;\r\n                }\r\n\r\n                //TYT Tupe\r\n            }\r\n\r\n            let spaces = [];\r\n            let enters = [];\r\n\r\n            for (let i = 0, max = allWrdNow.length - 1; i <= max; i++) {\r\n\r\n                if (allWrdNow[i].innerHTML === \" \") {\r\n                    spaces.push(allWrdNow[i]);\r\n                }\r\n            }\r\n\r\n //enters.push(codes[i]);\r\n\r\n            for (let i = 0, max = allWrdNow.length - 1; i <= max; i++) {\r\n\r\n                if (allWrdNow[i].innerHTML === \"<br>\") {\r\n                    enters.push(allWrdNow[i]);\r\n                }\r\n            }\r\n\r\n            // console.log(spaces);\r\n\r\n\r\n            // for (let i = 0; i <= spaces.length - 1 ; i++) {  Сразу добавить пробелам классы\r\n            //     spaces[i].classList.add('space');\r\n            // }\r\n\r\n            statusDiv.addEventListener('click', function () {\r\n\r\n                statusDiv.classList.toggle('on');\r\n                statusDiv.classList.toggle('off');\r\n\r\n\r\n                for (let i = 0, max = spaces.length - 1; i <= max; i++) {\r\n                    if (statusDiv.classList.contains('on')) {\r\n                        spaces[i].classList.add('space');\r\n\r\n                    }\r\n\r\n                    if (statusDiv.classList.contains('off')) {\r\n                        spaces[i].classList.remove('space');\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                for (let i = 0, max = enters.length - 1; i <= max; i++) {\r\n                    if (statusDiv.classList.contains('on')) {\r\n                        enters[i].classList.add('enter');\r\n\r\n                    }\r\n                    if (statusDiv.classList.contains('off')) {\r\n                        enters[i].classList.remove('enter');\r\n                    }\r\n\r\n                }\r\n\r\n            });\r\n\r\n\r\n            let pressCount = 0;\r\n            let codesCount = 0;\r\n            //   let a = 0;  pacman add\r\n\r\n\r\n            window.addEventListener(\"keypress\", (e) => {\r\n\r\n                    let normPress = document.createElement(\"audio\");\r\n                    let failPress = document.createElement(\"audio\");\r\n                    let winPlay = document.createElement(\"audio\");\r\n                    let gg = document.createElement(\"audio\");\r\n\r\n\r\n                    normPress.src = \"./mp3/press.ogg\";\r\n                    failPress.src = \"./mp3/miss.ogg\";\r\n                    winPlay.src = \"./mp3/win.ogg\";\r\n                    gg.src = \"./mp3/lose.ogg\";\r\n\r\n\r\n                    if (codesCount === codes.length || errorsCount >= errorMax) {\r\n                        return false;\r\n                    }\r\n\r\n\r\n                    let charCodeEnter = e.which;\r\n\r\n\r\n                    let intervalId = null;\r\n                    let time = 0;\r\n\r\n                    function tickHandler() {\r\n                        time++;\r\n                        temp.innerHTML = time.toString();\r\n                        speed.innerText = Math.round((pressCount * 60) / time).toString();\r\n                        codes[0] = null;\r\n\r\n\r\n                        if (codesCount === codes.length || errorsCount >= errorMax) {\r\n                            clearInterval(intervalId);\r\n                            speed.innerText = Math.round((pressCount * 60) / time).toString();\r\n                            time = undefined;\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    if (charCodeEnter === codes[0]) {\r\n                        intervalId = setInterval(tickHandler, 1000);\r\n\r\n                    }\r\n\r\n\r\n                    if (charCodeEnter === codes[codesCount]) {\r\n\r\n                        normPress.play();\r\n\r\n                        //a = a + 10; pacman add\r\n                        // pacman.style.left = a +  'px';\r\n                        allWrdNow[countSpan].classList.add('out');\r\n                        allWrdNow[countSpan].classList.remove('err1');\r\n                        pressCount++;\r\n                        countSpan++;\r\n                        codesCount++;\r\n                        score.innerHTML = scoreCount + 10;\r\n                        scoreCount = scoreCount + 10;\r\n\r\n\r\n                    } else {\r\n\r\n                        failPress.play();\r\n                        allWrdNow[countSpan].classList.add('err1');\r\n                        errors.innerHTML = errorsCount + 1;\r\n                        errorsCount++;\r\n                        scoreCount = scoreCount - 100;\r\n                        score.innerHTML = scoreCount;\r\n                    }\r\n\r\n\r\n                    let imgEnd = document.createElement('img');\r\n                    imgEnd.classList.add('end-game');\r\n\r\n                    if (errorsCount >= errorMax) {\r\n\r\n                        gg.play();\r\n\r\n                        imgEnd.setAttribute('src', './img/lose.png');\r\n                        wordsArrPlace.innerText = '';\r\n                        wordsArrPlace.appendChild(imgEnd);\r\n\r\n\r\n                        codesCount = 0;\r\n                    }\r\n\r\n\r\n                    if (countSpan === allWrdNow.length) {\r\n\r\n                        winPlay.play();\r\n\r\n                        imgEnd.setAttribute('src', './img/win.png');\r\n                        wordsArrPlace.innerText = '';\r\n                        wordsArrPlace.appendChild(imgEnd);\r\n\r\n                        countSpan = 0;\r\n\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    });\r\n\r\n\r\n    refresh.addEventListener('click', function () {\r\n        location.reload();\r\n    });\r\n\r\n    //Сохранение статы || выгрузка статы\r\n\r\n\r\n    setInterval(function clock() {\r\n\r\n        let clockBlock = document.querySelector('.clock');\r\n        let clockTime = new Date();\r\n        let hours = clockTime.getHours();\r\n        let minutes = clockTime.getMinutes();\r\n        let seconds = clockTime.getSeconds();\r\n\r\n        if (seconds < 10) {\r\n            seconds = \"0\" + seconds;\r\n        }\r\n        if (minutes < 10) {\r\n            minutes = \"0\" + minutes;\r\n        }\r\n        if (hours < 10) {\r\n            hours = \"0\" + hours;\r\n        }\r\n\r\n        clockBlock.innerHTML = hours + \":\" + minutes + \":\" + seconds;\r\n\r\n    }, 1000);\r\n\r\n\r\n};\r\n\r\n"]}